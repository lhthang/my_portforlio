define(['dart_sdk', 'packages/flutter/src/widgets/widget_span.dart', 'packages/flutter/src/animation/listener_helpers.dart', 'packages/flutter/src/animation/animation_controller.dart', 'packages/visibility_detector/src/render_visibility_detector.dart', 'packages/auto_animated/src/animator/stack.dart'], (function load__packages__auto_animated__src__animate_if_visible_dart(dart_sdk, packages__flutter__src__widgets__widget_span$46dart, packages__flutter__src__animation__listener_helpers$46dart, packages__flutter__src__animation__animation_controller$46dart, packages__visibility_detector__src__render_visibility_detector$46dart, packages__auto_animated__src__animator__stack$46dart) {
  'use strict';
  const core = dart_sdk.core;
  const _internal = dart_sdk._internal;
  const async = dart_sdk.async;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const framework = packages__flutter__src__widgets__widget_span$46dart.src__widgets__framework;
  const widget_inspector = packages__flutter__src__widgets__widget_span$46dart.src__widgets__widget_inspector;
  const ticker_provider = packages__flutter__src__widgets__widget_span$46dart.src__widgets__ticker_provider;
  const scroll_controller = packages__flutter__src__widgets__widget_span$46dart.src__widgets__scroll_controller;
  const notification_listener = packages__flutter__src__widgets__widget_span$46dart.src__widgets__notification_listener;
  const scroll_notification = packages__flutter__src__widgets__widget_span$46dart.src__widgets__scroll_notification;
  const animation = packages__flutter__src__animation__listener_helpers$46dart.src__animation__animation;
  const animation_controller = packages__flutter__src__animation__animation_controller$46dart.src__animation__animation_controller;
  const visibility_detector = packages__visibility_detector__src__render_visibility_detector$46dart.src__visibility_detector;
  const stack = packages__auto_animated__src__animator__stack$46dart.src__animator__stack;
  var animate_if_visible = Object.create(dart.library);
  dart._checkModuleNullSafetyMode(false);
  var T = {
    _LocationL: () => (T._LocationL = dart.constFn(dart.legacy(widget_inspector._Location)))(),
    FutureOfNull: () => (T.FutureOfNull = dart.constFn(async.Future$(core.Null)))(),
    VoidTovoid: () => (T.VoidTovoid = dart.constFn(dart.fnType(dart.void, [])))(),
    VoidToNull: () => (T.VoidToNull = dart.constFn(dart.fnType(core.Null, [])))(),
    NotificationListenerOfScrollNotification: () => (T.NotificationListenerOfScrollNotification = dart.constFn(notification_listener.NotificationListener$(scroll_notification.ScrollNotification)))(),
    _VisibilityStackProviderN: () => (T._VisibilityStackProviderN = dart.constFn(dart.nullable(animate_if_visible._VisibilityStackProvider)))()
  };
  var T$Eval = Object.assign({
    _: () => T$Eval
  }, T);
  var S = {
    _: () => S
  };
  var S$Eval = Object.assign({
    _: () => S$Eval
  }, S);
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.const({
        __proto__: core.Duration.prototype,
        [Duration__duration]: 0
      });
    },
    get C1() {
      return C[1] = dart.const({
        __proto__: core.Duration.prototype,
        [Duration__duration]: 250000
      });
    },
    get C4() {
      return C[4] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "key",
        [_Location_column]: 9,
        [_Location_line]: 72,
        [_Location_file]: null
      });
    },
    get C5() {
      return C[5] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "child",
        [_Location_column]: 9,
        [_Location_line]: 73,
        [_Location_file]: null
      });
    },
    get C6() {
      return C[6] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "onVisibilityChanged",
        [_Location_column]: 9,
        [_Location_line]: 77,
        [_Location_file]: null
      });
    },
    get C3() {
      return C[3] = dart.constList([C[4] || CT.C4, C[5] || CT.C5, C[6] || CT.C6], T._LocationL());
    },
    get C2() {
      return C[2] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: C[3] || CT.C3,
        [_Location_name]: null,
        [_Location_column]: 41,
        [_Location_line]: 71,
        [_Location_file]: "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/auto_animated-3.0.0/lib/src/animate_if_visible.dart"
      });
    },
    get C7() {
      return C[7] = dart.const({
        __proto__: core.Duration.prototype,
        [Duration__duration]: 150000
      });
    },
    get C10() {
      return C[10] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "child",
        [_Location_column]: 11,
        [_Location_line]: 158,
        [_Location_file]: null
      });
    },
    get C11() {
      return C[11] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "onNotification",
        [_Location_column]: 11,
        [_Location_line]: 159,
        [_Location_file]: null
      });
    },
    get C9() {
      return C[9] = dart.constList([C[10] || CT.C10, C[11] || CT.C11], T._LocationL());
    },
    get C8() {
      return C[8] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: C[9] || CT.C9,
        [_Location_name]: null,
        [_Location_column]: 16,
        [_Location_line]: 157,
        [_Location_file]: "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/auto_animated-3.0.0/lib/src/animate_if_visible.dart"
      });
    },
    get C14() {
      return C[14] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "stack",
        [_Location_column]: 9,
        [_Location_line]: 156,
        [_Location_file]: null
      });
    },
    get C15() {
      return C[15] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: null,
        [_Location_name]: "child",
        [_Location_column]: 9,
        [_Location_line]: 157,
        [_Location_file]: null
      });
    },
    get C13() {
      return C[13] = dart.constList([C[14] || CT.C14, C[15] || CT.C15], T._LocationL());
    },
    get C12() {
      return C[12] = dart.const({
        __proto__: widget_inspector._Location.prototype,
        [_Location_parameterLocations]: C[13] || CT.C13,
        [_Location_name]: null,
        [_Location_column]: 41,
        [_Location_line]: 155,
        [_Location_file]: "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/auto_animated-3.0.0/lib/src/animate_if_visible.dart"
      });
    }
  }, false);
  var C = Array(16).fill(void 0);
  var I = [
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/auto_animated-3.0.0/lib/src/animate_if_visible.dart",
    "package:auto_animated/src/animate_if_visible.dart"
  ];
  var builder$ = dart.privateName(animate_if_visible, "AnimateIfVisible.builder");
  var duration$ = dart.privateName(animate_if_visible, "AnimateIfVisible.duration");
  var delay$ = dart.privateName(animate_if_visible, "AnimateIfVisible.delay");
  var visibleFraction$ = dart.privateName(animate_if_visible, "AnimateIfVisible.visibleFraction");
  var reAnimateOnVisibility$ = dart.privateName(animate_if_visible, "AnimateIfVisible.reAnimateOnVisibility");
  var Duration__duration = dart.privateName(core, "Duration._duration");
  animate_if_visible.AnimateIfVisible = class AnimateIfVisible extends framework.StatefulWidget {
    get builder() {
      return this[builder$];
    }
    set builder(value) {
      super.builder = value;
    }
    get duration() {
      return this[duration$];
    }
    set duration(value) {
      super.duration = value;
    }
    get delay() {
      return this[delay$];
    }
    set delay(value) {
      super.delay = value;
    }
    get visibleFraction() {
      return this[visibleFraction$];
    }
    set visibleFraction(value) {
      super.visibleFraction = value;
    }
    get reAnimateOnVisibility() {
      return this[reAnimateOnVisibility$];
    }
    set reAnimateOnVisibility(value) {
      super.reAnimateOnVisibility = value;
    }
    createState() {
      return new animate_if_visible._AnimateIfVisibleState.new();
    }
  };
  (animate_if_visible.AnimateIfVisible.new = function(opts) {
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[0], 18, 18, "key");
    let builder = opts && 'builder' in opts ? opts.builder : null;
    if (builder == null) dart.nullFailed(I[0], 19, 19, "builder");
    let delay = opts && 'delay' in opts ? opts.delay : C[0] || CT.C0;
    if (delay == null) dart.nullFailed(I[0], 20, 10, "delay");
    let duration = opts && 'duration' in opts ? opts.duration : C[1] || CT.C1;
    if (duration == null) dart.nullFailed(I[0], 21, 10, "duration");
    let reAnimateOnVisibility = opts && 'reAnimateOnVisibility' in opts ? opts.reAnimateOnVisibility : false;
    if (reAnimateOnVisibility == null) dart.nullFailed(I[0], 22, 10, "reAnimateOnVisibility");
    let visibleFraction = opts && 'visibleFraction' in opts ? opts.visibleFraction : 0.025;
    if (visibleFraction == null) dart.nullFailed(I[0], 23, 10, "visibleFraction");
    let $36creationLocationd_0dea112b090073317d4 = opts && '$creationLocationd_0dea112b090073317d4' in opts ? opts.$creationLocationd_0dea112b090073317d4 : null;
    this[builder$] = builder;
    this[delay$] = delay;
    this[duration$] = duration;
    this[reAnimateOnVisibility$] = reAnimateOnVisibility;
    this[visibleFraction$] = visibleFraction;
    if (!(dart.notNull(visibleFraction) > 0 && dart.notNull(visibleFraction) < 1)) dart.assertFailed(null, I[0], 24, 16, "visibleFraction > 0 && visibleFraction < 1");
    animate_if_visible.AnimateIfVisible.__proto__.new.call(this, {key: key, $creationLocationd_0dea112b090073317d4: $36creationLocationd_0dea112b090073317d4});
    ;
  }).prototype = animate_if_visible.AnimateIfVisible.prototype;
  dart.addTypeTests(animate_if_visible.AnimateIfVisible);
  dart.addTypeCaches(animate_if_visible.AnimateIfVisible);
  dart.setMethodSignature(animate_if_visible.AnimateIfVisible, () => ({
    __proto__: dart.getMethods(animate_if_visible.AnimateIfVisible.__proto__),
    createState: dart.fnType(animate_if_visible._AnimateIfVisibleState, [])
  }));
  dart.setLibraryUri(animate_if_visible.AnimateIfVisible, I[1]);
  dart.setFieldSignature(animate_if_visible.AnimateIfVisible, () => ({
    __proto__: dart.getFields(animate_if_visible.AnimateIfVisible.__proto__),
    builder: dart.finalFieldType(dart.fnType(framework.Widget, [framework.BuildContext, animation.Animation$(core.double)])),
    duration: dart.finalFieldType(core.Duration),
    delay: dart.finalFieldType(core.Duration),
    visibleFraction: dart.finalFieldType(core.double),
    reAnimateOnVisibility: dart.finalFieldType(core.bool)
  }));
  var ___AnimateIfVisibleState__controller = dart.privateName(animate_if_visible, "_#_AnimateIfVisibleState#_controller");
  var ___AnimateIfVisibleState__controller_isSet = dart.privateName(animate_if_visible, "_#_AnimateIfVisibleState#_controller#isSet");
  var _wrapper = dart.privateName(animate_if_visible, "_wrapper");
  var _controller = dart.privateName(animate_if_visible, "_controller");
  var _visibilityChanged = dart.privateName(animate_if_visible, "_visibilityChanged");
  var _Location_parameterLocations = dart.privateName(widget_inspector, "_Location.parameterLocations");
  var _Location_name = dart.privateName(widget_inspector, "_Location.name");
  var _Location_column = dart.privateName(widget_inspector, "_Location.column");
  var _Location_line = dart.privateName(widget_inspector, "_Location.line");
  var _Location_file = dart.privateName(widget_inspector, "_Location.file");
  const State_SingleTickerProviderStateMixin$36 = class State_SingleTickerProviderStateMixin extends framework.State$(animate_if_visible.AnimateIfVisible) {};
  (State_SingleTickerProviderStateMixin$36.new = function() {
    ticker_provider.SingleTickerProviderStateMixin$(animate_if_visible.AnimateIfVisible)[dart.mixinNew].call(this);
    State_SingleTickerProviderStateMixin$36.__proto__.new.call(this);
  }).prototype = State_SingleTickerProviderStateMixin$36.prototype;
  dart.applyMixin(State_SingleTickerProviderStateMixin$36, ticker_provider.SingleTickerProviderStateMixin$(animate_if_visible.AnimateIfVisible));
  animate_if_visible._AnimateIfVisibleState = class _AnimateIfVisibleState extends State_SingleTickerProviderStateMixin$36 {
    get [_controller]() {
      let t0;
      return dart.test(this[___AnimateIfVisibleState__controller_isSet]) ? (t0 = this[___AnimateIfVisibleState__controller], t0) : dart.throw(new _internal.LateError.fieldNI("_controller"));
    }
    set [_controller](t0) {
      if (t0 == null) dart.nullFailed(I[0], 47, 28, "null");
      this[___AnimateIfVisibleState__controller_isSet] = true;
      this[___AnimateIfVisibleState__controller] = t0;
    }
    initState() {
      this[_wrapper] = animate_if_visible._VisibilityStackProvider.of(this.context);
      let itemAlreadyShowed = dart.test(dart.nullCheck(dart.nullCheck(this[_wrapper]).stack).isAlreadyAnimated(this.widget.key)) && !dart.test(this.widget.reAnimateOnVisibility);
      this[_controller] = new animation_controller.AnimationController.new({value: itemAlreadyShowed ? 1.0 : 0.0, duration: this.widget.duration, vsync: this});
      super.initState();
    }
    dispose() {
      this[_controller].dispose();
      super.dispose();
    }
    build(context) {
      let t3, t2, t1;
      if (context == null) dart.nullFailed(I[0], 71, 29, "context");
      return new visibility_detector.VisibilityDetector.new({key: dart.nullCheck(this.widget.key), child: (t1 = this.widget, t2 = context, t3 = this[_controller].view, t1.builder(t2, t3)), onVisibilityChanged: dart.bind(this, _visibilityChanged), $creationLocationd_0dea112b090073317d4: C[2] || CT.C2});
    }
    [_visibilityChanged](info) {
      if (info == null) dart.nullFailed(I[0], 80, 42, "info");
      if (dart.notNull(info.visibleFraction) > dart.notNull(this.widget.visibleFraction) && !dart.test(this[_controller].isCompleted)) {
        T.FutureOfNull().delayed(this.widget.delay, dart.fn(() => {
          if (this[_wrapper] != null) {
            dart.nullCheck(dart.nullCheck(this[_wrapper]).stack).add(this.widget.key, dart.fn(() => {
              if (dart.test(this.mounted)) {
                this[_controller].forward();
              }
            }, T.VoidTovoid()));
          } else {
            if (dart.test(this.mounted)) {
              this[_controller].forward();
            }
          }
        }, T.VoidToNull()));
      } else if (dart.notNull(info.visibleFraction) <= dart.notNull(this.widget.visibleFraction) && dart.test(this.mounted) && dart.test(this.widget.reAnimateOnVisibility) && !dart.test(info.visibleBounds.isEmpty)) {
        this[_controller].reverse();
      }
    }
  };
  (animate_if_visible._AnimateIfVisibleState.new = function() {
    this[___AnimateIfVisibleState__controller] = null;
    this[___AnimateIfVisibleState__controller_isSet] = false;
    this[_wrapper] = null;
    animate_if_visible._AnimateIfVisibleState.__proto__.new.call(this);
    ;
  }).prototype = animate_if_visible._AnimateIfVisibleState.prototype;
  dart.addTypeTests(animate_if_visible._AnimateIfVisibleState);
  dart.addTypeCaches(animate_if_visible._AnimateIfVisibleState);
  dart.setMethodSignature(animate_if_visible._AnimateIfVisibleState, () => ({
    __proto__: dart.getMethods(animate_if_visible._AnimateIfVisibleState.__proto__),
    build: dart.fnType(framework.Widget, [framework.BuildContext]),
    [_visibilityChanged]: dart.fnType(dart.void, [visibility_detector.VisibilityInfo])
  }));
  dart.setGetterSignature(animate_if_visible._AnimateIfVisibleState, () => ({
    __proto__: dart.getGetters(animate_if_visible._AnimateIfVisibleState.__proto__),
    [_controller]: animation_controller.AnimationController
  }));
  dart.setSetterSignature(animate_if_visible._AnimateIfVisibleState, () => ({
    __proto__: dart.getSetters(animate_if_visible._AnimateIfVisibleState.__proto__),
    [_controller]: animation_controller.AnimationController
  }));
  dart.setLibraryUri(animate_if_visible._AnimateIfVisibleState, I[1]);
  dart.setFieldSignature(animate_if_visible._AnimateIfVisibleState, () => ({
    __proto__: dart.getFields(animate_if_visible._AnimateIfVisibleState.__proto__),
    [___AnimateIfVisibleState__controller]: dart.fieldType(dart.nullable(animation_controller.AnimationController)),
    [___AnimateIfVisibleState__controller_isSet]: dart.fieldType(core.bool),
    [_wrapper]: dart.fieldType(dart.nullable(animate_if_visible._VisibilityStackProvider))
  }));
  var controller$ = dart.privateName(animate_if_visible, "AnimateIfVisibleWrapper.controller");
  var child$ = dart.privateName(animate_if_visible, "AnimateIfVisibleWrapper.child");
  var delay$0 = dart.privateName(animate_if_visible, "AnimateIfVisibleWrapper.delay");
  var showItemInterval$ = dart.privateName(animate_if_visible, "AnimateIfVisibleWrapper.showItemInterval");
  animate_if_visible.AnimateIfVisibleWrapper = class AnimateIfVisibleWrapper extends framework.StatefulWidget {
    get controller() {
      return this[controller$];
    }
    set controller(value) {
      super.controller = value;
    }
    get child() {
      return this[child$];
    }
    set child(value) {
      super.child = value;
    }
    get delay() {
      return this[delay$0];
    }
    set delay(value) {
      super.delay = value;
    }
    get showItemInterval() {
      return this[showItemInterval$];
    }
    set showItemInterval(value) {
      super.showItemInterval = value;
    }
    createState() {
      return new animate_if_visible._AnimateIfVisibleWrapperState.new();
    }
  };
  (animate_if_visible.AnimateIfVisibleWrapper.new = function(opts) {
    let child = opts && 'child' in opts ? opts.child : null;
    if (child == null) dart.nullFailed(I[0], 107, 19, "child");
    let delay = opts && 'delay' in opts ? opts.delay : C[0] || CT.C0;
    if (delay == null) dart.nullFailed(I[0], 108, 10, "delay");
    let showItemInterval = opts && 'showItemInterval' in opts ? opts.showItemInterval : C[7] || CT.C7;
    if (showItemInterval == null) dart.nullFailed(I[0], 109, 10, "showItemInterval");
    let controller = opts && 'controller' in opts ? opts.controller : null;
    let key = opts && 'key' in opts ? opts.key : null;
    let $36creationLocationd_0dea112b090073317d4 = opts && '$creationLocationd_0dea112b090073317d4' in opts ? opts.$creationLocationd_0dea112b090073317d4 : null;
    this[child$] = child;
    this[delay$0] = delay;
    this[showItemInterval$] = showItemInterval;
    this[controller$] = controller;
    animate_if_visible.AnimateIfVisibleWrapper.__proto__.new.call(this, {key: key, $creationLocationd_0dea112b090073317d4: $36creationLocationd_0dea112b090073317d4});
    ;
  }).prototype = animate_if_visible.AnimateIfVisibleWrapper.prototype;
  dart.addTypeTests(animate_if_visible.AnimateIfVisibleWrapper);
  dart.addTypeCaches(animate_if_visible.AnimateIfVisibleWrapper);
  dart.setMethodSignature(animate_if_visible.AnimateIfVisibleWrapper, () => ({
    __proto__: dart.getMethods(animate_if_visible.AnimateIfVisibleWrapper.__proto__),
    createState: dart.fnType(animate_if_visible._AnimateIfVisibleWrapperState, [])
  }));
  dart.setLibraryUri(animate_if_visible.AnimateIfVisibleWrapper, I[1]);
  dart.setFieldSignature(animate_if_visible.AnimateIfVisibleWrapper, () => ({
    __proto__: dart.getFields(animate_if_visible.AnimateIfVisibleWrapper.__proto__),
    controller: dart.finalFieldType(dart.nullable(scroll_controller.ScrollController)),
    child: dart.finalFieldType(framework.Widget),
    delay: dart.finalFieldType(core.Duration),
    showItemInterval: dart.finalFieldType(core.Duration)
  }));
  var _stack = dart.privateName(animate_if_visible, "_stack");
  var _lastScrollExtend = dart.privateName(animate_if_visible, "_lastScrollExtend");
  var _handleScrollController = dart.privateName(animate_if_visible, "_handleScrollController");
  var _handleScrollNotifications = dart.privateName(animate_if_visible, "_handleScrollNotifications");
  var _setDirection = dart.privateName(animate_if_visible, "_setDirection");
  animate_if_visible._AnimateIfVisibleWrapperState = class _AnimateIfVisibleWrapperState extends framework.State$(animate_if_visible.AnimateIfVisibleWrapper) {
    initState() {
      this[_stack] = new stack.VisibilityStack.new({delay: this.widget.delay, showItemInterval: this.widget.showItemInterval});
      if (this.widget.controller != null && dart.test(dart.nullCheck(this.widget.controller).hasClients)) {
        dart.nullCheck(this.widget.controller).addListener(dart.bind(this, _handleScrollController));
      }
      super.initState();
    }
    dispose() {
      let t1;
      dart.nullCheck(this[_stack]).dispose();
      t1 = this.widget.controller;
      t1 == null ? null : t1.removeListener(dart.bind(this, _handleScrollController));
      super.dispose();
    }
    didUpdateWidget(oldWidget) {
      animate_if_visible.AnimateIfVisibleWrapper.as(oldWidget);
      if (oldWidget == null) dart.nullFailed(I[0], 147, 48, "oldWidget");
      if (!dart.equals(oldWidget.showItemInterval, this.widget.showItemInterval)) {
        dart.nullCheck(this[_stack]).showItemInterval = this.widget.showItemInterval;
      }
      super.didUpdateWidget(oldWidget);
    }
    build(context) {
      if (context == null) dart.nullFailed(I[0], 155, 29, "context");
      return new animate_if_visible._VisibilityStackProvider.new({stack: this[_stack], child: new (T.NotificationListenerOfScrollNotification()).new({child: this.widget.child, onNotification: dart.bind(this, _handleScrollNotifications), $creationLocationd_0dea112b090073317d4: C[8] || CT.C8}), $creationLocationd_0dea112b090073317d4: C[12] || CT.C12});
    }
    [_handleScrollController]() {
      this[_setDirection](dart.nullCheck(this.widget.controller).offset, dart.nullCheck(this.widget.controller).position.minScrollExtent, dart.nullCheck(this.widget.controller).position.maxScrollExtent);
    }
    [_handleScrollNotifications](scrollInfo) {
      if (scrollInfo == null) dart.nullFailed(I[0], 171, 54, "scrollInfo");
      this[_setDirection](scrollInfo.metrics.pixels, scrollInfo.metrics.minScrollExtent, scrollInfo.metrics.maxScrollExtent);
      return true;
    }
    [_setDirection](offset, minScrollExtent, maxScrollExtent) {
      if (offset == null) dart.nullFailed(I[0], 181, 12, "offset");
      if (minScrollExtent == null) dart.nullFailed(I[0], 182, 12, "minScrollExtent");
      if (maxScrollExtent == null) dart.nullFailed(I[0], 183, 12, "maxScrollExtent");
      if (dart.notNull(offset) < dart.notNull(minScrollExtent) || dart.notNull(offset) > dart.notNull(maxScrollExtent)) {
        return;
      }
      if (dart.notNull(offset) > dart.notNull(this[_lastScrollExtend]) + 2.5) {
        dart.nullCheck(this[_stack]).direction = stack.AnimationDirection.toEnd;
      } else if (dart.notNull(offset) < dart.notNull(this[_lastScrollExtend]) - 2.5) {
        dart.nullCheck(this[_stack]).direction = stack.AnimationDirection.toStart;
      }
      this[_lastScrollExtend] = offset;
    }
  };
  (animate_if_visible._AnimateIfVisibleWrapperState.new = function() {
    this[_stack] = null;
    this[_lastScrollExtend] = 0.0;
    animate_if_visible._AnimateIfVisibleWrapperState.__proto__.new.call(this);
    ;
  }).prototype = animate_if_visible._AnimateIfVisibleWrapperState.prototype;
  dart.addTypeTests(animate_if_visible._AnimateIfVisibleWrapperState);
  dart.addTypeCaches(animate_if_visible._AnimateIfVisibleWrapperState);
  dart.setMethodSignature(animate_if_visible._AnimateIfVisibleWrapperState, () => ({
    __proto__: dart.getMethods(animate_if_visible._AnimateIfVisibleWrapperState.__proto__),
    build: dart.fnType(framework.Widget, [framework.BuildContext]),
    [_handleScrollController]: dart.fnType(dart.void, []),
    [_handleScrollNotifications]: dart.fnType(core.bool, [scroll_notification.ScrollNotification]),
    [_setDirection]: dart.fnType(dart.void, [core.double, core.double, core.double])
  }));
  dart.setLibraryUri(animate_if_visible._AnimateIfVisibleWrapperState, I[1]);
  dart.setFieldSignature(animate_if_visible._AnimateIfVisibleWrapperState, () => ({
    __proto__: dart.getFields(animate_if_visible._AnimateIfVisibleWrapperState.__proto__),
    [_stack]: dart.fieldType(dart.nullable(stack.VisibilityStack)),
    [_lastScrollExtend]: dart.fieldType(core.double)
  }));
  animate_if_visible._VisibilityStackProvider = class _VisibilityStackProvider extends framework.InheritedWidget {
    static of(context) {
      let t1;
      if (context == null) dart.nullFailed(I[0], 208, 52, "context");
      return T._VisibilityStackProviderN().as((t1 = context.getElementForInheritedWidgetOfExactType(animate_if_visible._VisibilityStackProvider), t1 == null ? null : t1.widget));
    }
    updateShouldNotify(oldWidget) {
      animate_if_visible._VisibilityStackProvider.as(oldWidget);
      if (oldWidget == null) dart.nullFailed(I[0], 213, 52, "oldWidget");
      return !dart.equals(oldWidget.stack, this.stack);
    }
  };
  (animate_if_visible._VisibilityStackProvider.new = function(opts) {
    let child = opts && 'child' in opts ? opts.child : null;
    if (child == null) dart.nullFailed(I[0], 201, 21, "child");
    let stack = opts && 'stack' in opts ? opts.stack : null;
    let key = opts && 'key' in opts ? opts.key : null;
    let $36creationLocationd_0dea112b090073317d4 = opts && '$creationLocationd_0dea112b090073317d4' in opts ? opts.$creationLocationd_0dea112b090073317d4 : null;
    this.stack = stack;
    animate_if_visible._VisibilityStackProvider.__proto__.new.call(this, {key: key, child: child, $creationLocationd_0dea112b090073317d4: $36creationLocationd_0dea112b090073317d4});
    ;
  }).prototype = animate_if_visible._VisibilityStackProvider.prototype;
  dart.addTypeTests(animate_if_visible._VisibilityStackProvider);
  dart.addTypeCaches(animate_if_visible._VisibilityStackProvider);
  dart.setMethodSignature(animate_if_visible._VisibilityStackProvider, () => ({
    __proto__: dart.getMethods(animate_if_visible._VisibilityStackProvider.__proto__),
    updateShouldNotify: dart.fnType(core.bool, [dart.nullable(core.Object)])
  }));
  dart.setLibraryUri(animate_if_visible._VisibilityStackProvider, I[1]);
  dart.setFieldSignature(animate_if_visible._VisibilityStackProvider, () => ({
    __proto__: dart.getFields(animate_if_visible._VisibilityStackProvider.__proto__),
    stack: dart.finalFieldType(dart.nullable(stack.VisibilityStack))
  }));
  dart.defineLazy(animate_if_visible, {
    /*animate_if_visible.defaultVisibilityFraction*/get defaultVisibilityFraction() {
      return 0.025;
    }
  }, false);
  dart.trackLibraries("packages/auto_animated/src/animate_if_visible.dart", {
    "package:auto_animated/src/animate_if_visible.dart": animate_if_visible
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["animate_if_visible.dart"],"names":[],"mappings":"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","file":"../../../../../../../packages/auto_animated/src/animate_if_visible.dart.lib.js"}');
  // Exports:
  return {
    src__animate_if_visible: animate_if_visible
  };
}));

//# sourceMappingURL=animate_if_visible.dart.lib.js.map
