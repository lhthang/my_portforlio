define(['dart_sdk', 'packages/flutter/src/rendering/proxy_box.dart', 'packages/flutter/src/foundation/key.dart', 'packages/flutter/src/rendering/layer.dart', 'packages/flutter/src/scheduler/binding.dart', 'packages/flutter/src/scheduler/priority.dart', 'packages/flutter/src/foundation/debug.dart', 'packages/vector_math/vector_math_64.dart', 'packages/flutter/src/painting/matrix_utils.dart', 'packages/flutter/src/painting/basic_types.dart', 'packages/flutter/src/rendering/sliver.dart', 'packages/flutter/src/rendering/proxy_sliver.dart', 'packages/flutter/src/widgets/widget_span.dart'], (function load__packages__visibility_detector__src__render_visibility_detector_dart(dart_sdk, packages__flutter__src__rendering__proxy_box$46dart, packages__flutter__src__foundation__key$46dart, packages__flutter__src__rendering__layer$46dart, packages__flutter__src__scheduler__binding$46dart, packages__flutter__src__scheduler__priority$46dart, packages__flutter__src__foundation__debug$46dart, packages__vector_math__vector_math_64$46dart, packages__flutter__src__painting__matrix_utils$46dart, packages__flutter__src__painting__basic_types$46dart, packages__flutter__src__rendering__sliver$46dart, packages__flutter__src__rendering__proxy_sliver$46dart, packages__flutter__src__widgets__widget_span$46dart) {
  'use strict';
  const core = dart_sdk.core;
  const ui = dart_sdk.ui;
  const async = dart_sdk.async;
  const _js_helper = dart_sdk._js_helper;
  const _interceptors = dart_sdk._interceptors;
  const math = dart_sdk.math;
  const _internal = dart_sdk._internal;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const proxy_box = packages__flutter__src__rendering__proxy_box$46dart.src__rendering__proxy_box;
  const key = packages__flutter__src__foundation__key$46dart.src__foundation__key;
  const binding = packages__flutter__src__rendering__layer$46dart.src__rendering__binding;
  const layer$ = packages__flutter__src__rendering__layer$46dart.src__rendering__layer;
  const binding$ = packages__flutter__src__scheduler__binding$46dart.src__scheduler__binding;
  const priority = packages__flutter__src__scheduler__priority$46dart.src__scheduler__priority;
  const diagnostics = packages__flutter__src__foundation__debug$46dart.src__foundation__diagnostics;
  const vector_math_64 = packages__vector_math__vector_math_64$46dart.vector_math_64;
  const matrix_utils = packages__flutter__src__painting__matrix_utils$46dart.src__painting__matrix_utils;
  const basic_types = packages__flutter__src__painting__basic_types$46dart.src__painting__basic_types;
  const sliver = packages__flutter__src__rendering__sliver$46dart.src__rendering__sliver;
  const proxy_sliver = packages__flutter__src__rendering__proxy_sliver$46dart.src__rendering__proxy_sliver;
  const framework = packages__flutter__src__widgets__widget_span$46dart.src__widgets__framework;
  var render_visibility_detector = Object.create(dart.library);
  var visibility_detector_controller = Object.create(dart.library);
  var visibility_detector_layer = Object.create(dart.library);
  var render_sliver_visibility_detector = Object.create(dart.library);
  var visibility_detector = Object.create(dart.library);
  var $_get = dartx._get;
  var $isEmpty = dartx.isEmpty;
  var $_set = dartx._set;
  var $remove = dartx.remove;
  var $values = dartx.values;
  var $clear = dartx.clear;
  var $add = dartx.add;
  var $reversed = dartx.reversed;
  var $isNotEmpty = dartx.isNotEmpty;
  var $first = dartx.first;
  var $skip = dartx.skip;
  var $abs = dartx.abs;
  dart._checkModuleNullSafetyMode(false);
  var T = {
    DurationTovoid: () => (T.DurationTovoid = dart.constFn(dart.fnType(dart.void, [core.Duration])))(),
    VoidTovoid: () => (T.VoidTovoid = dart.constFn(dart.fnType(dart.void, [])))(),
    DiagnosticsPropertyOfKey: () => (T.DiagnosticsPropertyOfKey = dart.constFn(diagnostics.DiagnosticsProperty$(key.Key)))(),
    DiagnosticsPropertyOfRect: () => (T.DiagnosticsPropertyOfRect = dart.constFn(diagnostics.DiagnosticsProperty$(ui.Rect)))(),
    LinkedMapOfKey$VisibilityDetectorLayer: () => (T.LinkedMapOfKey$VisibilityDetectorLayer = dart.constFn(_js_helper.LinkedMap$(key.Key, visibility_detector_layer.VisibilityDetectorLayer)))(),
    LinkedMapOfKey$VisibilityInfo: () => (T.LinkedMapOfKey$VisibilityInfo = dart.constFn(_js_helper.LinkedMap$(key.Key, visibility_detector.VisibilityInfo)))(),
    LinkedMapOfKey$Rect: () => (T.LinkedMapOfKey$Rect = dart.constFn(_js_helper.LinkedMap$(key.Key, ui.Rect)))(),
    JSArrayOfLayer: () => (T.JSArrayOfLayer = dart.constFn(_interceptors.JSArray$(layer$.Layer)))()
  };
  var T$Eval = Object.assign({
    _: () => T$Eval
  }, T);
  var S = {
    _: () => S
  };
  var S$Eval = Object.assign({
    _: () => S$Eval
  }, S);
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.const({
        __proto__: core.Duration.prototype,
        [Duration__duration]: 500000
      });
    },
    get C1() {
      return C[1] = dart.fn(visibility_detector_layer.VisibilityDetectorLayer._handleTimer, T.VoidTovoid());
    },
    get C2() {
      return C[2] = dart.fn(visibility_detector_layer.VisibilityDetectorLayer._processCallbacks, T.VoidTovoid());
    },
    get C3() {
      return C[3] = dart.const({
        __proto__: ui.Offset.prototype,
        [OffsetBase__dy]: 0,
        [OffsetBase__dx]: 0
      });
    },
    get C4() {
      return C[4] = dart.const({
        __proto__: basic_types.AxisDirection.prototype,
        [_name]: "AxisDirection.down",
        index: 2
      });
    },
    get C5() {
      return C[5] = dart.const({
        __proto__: basic_types.AxisDirection.prototype,
        [_name]: "AxisDirection.up",
        index: 0
      });
    },
    get C6() {
      return C[6] = dart.const({
        __proto__: basic_types.AxisDirection.prototype,
        [_name]: "AxisDirection.right",
        index: 1
      });
    },
    get C7() {
      return C[7] = dart.const({
        __proto__: basic_types.AxisDirection.prototype,
        [_name]: "AxisDirection.left",
        index: 3
      });
    }
  }, false);
  var C = Array(8).fill(void 0);
  var I = [
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/visibility_detector-0.2.0/lib/src/render_visibility_detector.dart",
    "package:visibility_detector/src/render_visibility_detector.dart",
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/visibility_detector-0.2.0/lib/src/visibility_detector_controller.dart",
    "package:visibility_detector/src/visibility_detector_controller.dart",
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/visibility_detector-0.2.0/lib/src/visibility_detector_layer.dart",
    "package:visibility_detector/src/visibility_detector_layer.dart",
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/visibility_detector-0.2.0/lib/src/render_sliver_visibility_detector.dart",
    "package:visibility_detector/src/render_sliver_visibility_detector.dart",
    "file:///C:/flutter/.pub-cache/hosted/pub.dartlang.org/visibility_detector-0.2.0/lib/src/visibility_detector.dart",
    "package:visibility_detector/src/visibility_detector.dart"
  ];
  var key$ = dart.privateName(render_visibility_detector, "RenderVisibilityDetector.key");
  var _onVisibilityChanged = dart.privateName(render_visibility_detector, "_onVisibilityChanged");
  render_visibility_detector.RenderVisibilityDetector = class RenderVisibilityDetector extends proxy_box.RenderProxyBox {
    get key() {
      return this[key$];
    }
    set key(value) {
      super.key = value;
    }
    get onVisibilityChanged() {
      return this[_onVisibilityChanged];
    }
    set onVisibilityChanged(value) {
      this[_onVisibilityChanged] = value;
      this.markNeedsCompositingBitsUpdate();
      this.markNeedsPaint();
    }
    get alwaysNeedsCompositing() {
      return this.onVisibilityChanged != null;
    }
    paint(context, offset) {
      if (context == null) dart.nullFailed(I[0], 48, 30, "context");
      if (offset == null) dart.nullFailed(I[0], 48, 46, "offset");
      if (this.onVisibilityChanged == null) {
        visibility_detector_layer.VisibilityDetectorLayer.forget(this.key);
        super.paint(context, offset);
        return;
      }
      let layer = new visibility_detector_layer.VisibilityDetectorLayer.new({key: this.key, widgetOffset: ui.Offset.zero, widgetSize: this.semanticBounds.size, paintOffset: offset, onVisibilityChanged: dart.nullCheck(this.onVisibilityChanged)});
      context.pushLayer(layer, dart.bind(this, 'paint', super.paint), offset);
    }
  };
  (render_visibility_detector.RenderVisibilityDetector.new = function(opts) {
    let child = opts && 'child' in opts ? opts.child : null;
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[0], 21, 19, "key");
    let onVisibilityChanged = opts && 'onVisibilityChanged' in opts ? opts.onVisibilityChanged : null;
    this[key$] = key;
    if (!(key != null)) dart.assertFailed(null, I[0], 23, 17, "key != null");
    this[_onVisibilityChanged] = onVisibilityChanged;
    render_visibility_detector.RenderVisibilityDetector.__proto__.new.call(this, child);
    ;
  }).prototype = render_visibility_detector.RenderVisibilityDetector.prototype;
  dart.addTypeTests(render_visibility_detector.RenderVisibilityDetector);
  dart.addTypeCaches(render_visibility_detector.RenderVisibilityDetector);
  dart.setGetterSignature(render_visibility_detector.RenderVisibilityDetector, () => ({
    __proto__: dart.getGetters(render_visibility_detector.RenderVisibilityDetector.__proto__),
    onVisibilityChanged: dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo]))
  }));
  dart.setSetterSignature(render_visibility_detector.RenderVisibilityDetector, () => ({
    __proto__: dart.getSetters(render_visibility_detector.RenderVisibilityDetector.__proto__),
    onVisibilityChanged: dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo]))
  }));
  dart.setLibraryUri(render_visibility_detector.RenderVisibilityDetector, I[1]);
  dart.setFieldSignature(render_visibility_detector.RenderVisibilityDetector, () => ({
    __proto__: dart.getFields(render_visibility_detector.RenderVisibilityDetector.__proto__),
    key: dart.finalFieldType(key.Key),
    [_onVisibilityChanged]: dart.fieldType(dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo])))
  }));
  var updateInterval = dart.privateName(visibility_detector_controller, "VisibilityDetectorController.updateInterval");
  var Duration__duration = dart.privateName(core, "Duration._duration");
  visibility_detector_controller.VisibilityDetectorController = class VisibilityDetectorController extends core.Object {
    get updateInterval() {
      return this[updateInterval];
    }
    set updateInterval(value) {
      this[updateInterval] = value;
    }
    static get instance() {
      return visibility_detector_controller.VisibilityDetectorController._instance;
    }
    notifyNow() {
      return visibility_detector_layer.VisibilityDetectorLayer.notifyNow();
    }
    forget(key) {
      if (key == null) dart.nullFailed(I[2], 41, 19, "key");
      return visibility_detector_layer.VisibilityDetectorLayer.forget(key);
    }
    widgetBoundsFor(key) {
      if (key == null) dart.nullFailed(I[2], 48, 29, "key");
      return visibility_detector_layer.VisibilityDetectorLayer.widgetBounds[$_get](key);
    }
  };
  (visibility_detector_controller.VisibilityDetectorController.new = function() {
    this[updateInterval] = C[0] || CT.C0;
    ;
  }).prototype = visibility_detector_controller.VisibilityDetectorController.prototype;
  dart.addTypeTests(visibility_detector_controller.VisibilityDetectorController);
  dart.addTypeCaches(visibility_detector_controller.VisibilityDetectorController);
  dart.setMethodSignature(visibility_detector_controller.VisibilityDetectorController, () => ({
    __proto__: dart.getMethods(visibility_detector_controller.VisibilityDetectorController.__proto__),
    notifyNow: dart.fnType(dart.void, []),
    forget: dart.fnType(dart.void, [key.Key]),
    widgetBoundsFor: dart.fnType(dart.nullable(ui.Rect), [key.Key])
  }));
  dart.setLibraryUri(visibility_detector_controller.VisibilityDetectorController, I[3]);
  dart.setFieldSignature(visibility_detector_controller.VisibilityDetectorController, () => ({
    __proto__: dart.getFields(visibility_detector_controller.VisibilityDetectorController.__proto__),
    updateInterval: dart.fieldType(core.Duration)
  }));
  dart.defineLazy(visibility_detector_controller.VisibilityDetectorController, {
    /*visibility_detector_controller.VisibilityDetectorController._instance*/get _instance() {
      return new visibility_detector_controller.VisibilityDetectorController.new();
    }
  }, false);
  var key$0 = dart.privateName(visibility_detector_layer, "VisibilityDetectorLayer.key");
  var widgetOffset$ = dart.privateName(visibility_detector_layer, "VisibilityDetectorLayer.widgetOffset");
  var widgetSize$ = dart.privateName(visibility_detector_layer, "VisibilityDetectorLayer.widgetSize");
  var paintOffset$ = dart.privateName(visibility_detector_layer, "VisibilityDetectorLayer.paintOffset");
  var onVisibilityChanged$ = dart.privateName(visibility_detector_layer, "VisibilityDetectorLayer.onVisibilityChanged");
  var _layerOffset = dart.privateName(visibility_detector_layer, "_layerOffset");
  var _computeWidgetBounds = dart.privateName(visibility_detector_layer, "_computeWidgetBounds");
  var _computeClipRect = dart.privateName(visibility_detector_layer, "_computeClipRect");
  var _scheduleUpdate = dart.privateName(visibility_detector_layer, "_scheduleUpdate");
  var _fireCallback = dart.privateName(visibility_detector_layer, "_fireCallback");
  var OffsetBase__dy = dart.privateName(ui, "OffsetBase._dy");
  var OffsetBase__dx = dart.privateName(ui, "OffsetBase._dx");
  visibility_detector_layer.VisibilityDetectorLayer = class VisibilityDetectorLayer extends layer$.ContainerLayer {
    get key() {
      return this[key$0];
    }
    set key(value) {
      super.key = value;
    }
    get widgetOffset() {
      return this[widgetOffset$];
    }
    set widgetOffset(value) {
      super.widgetOffset = value;
    }
    get widgetSize() {
      return this[widgetSize$];
    }
    set widgetSize(value) {
      super.widgetSize = value;
    }
    get paintOffset() {
      return this[paintOffset$];
    }
    set paintOffset(value) {
      super.paintOffset = value;
    }
    get onVisibilityChanged() {
      return this[onVisibilityChanged$];
    }
    set onVisibilityChanged(value) {
      super.onVisibilityChanged = value;
    }
    static get widgetBounds() {
      return visibility_detector_layer.VisibilityDetectorLayer._lastBounds;
    }
    [_computeWidgetBounds]() {
      let r = visibility_detector_layer._localRectToGlobal(this, this.widgetOffset['&'](this.widgetSize));
      return r.shift(this.paintOffset['+'](this[_layerOffset]));
    }
    [_computeClipRect]() {
      let t0;
      if (!((t0 = binding.RendererBinding.instance, t0 == null ? null : t0.renderView) != null)) dart.assertFailed(null, I[4], 131, 12, "RendererBinding.instance?.renderView != null");
      let clipRect = ui.Offset.zero['&'](dart.nullCheck(binding.RendererBinding.instance).renderView.size);
      let parentLayer = this.parent;
      while (parentLayer != null) {
        let curClipRect = null;
        if (layer$.ClipRectLayer.is(parentLayer)) {
          curClipRect = parentLayer.clipRect;
        } else if (layer$.ClipRRectLayer.is(parentLayer)) {
          curClipRect = dart.nullCheck(parentLayer.clipRRect).outerRect;
        } else if (layer$.ClipPathLayer.is(parentLayer)) {
          curClipRect = dart.nullCheck(parentLayer.clipPath).getBounds();
        }
        if (curClipRect != null) {
          curClipRect = visibility_detector_layer._localRectToGlobal(parentLayer, curClipRect);
          clipRect = clipRect.intersect(curClipRect);
        }
        parentLayer = parentLayer.parent;
      }
      return clipRect;
    }
    [_scheduleUpdate]() {
      let isFirstUpdate = visibility_detector_layer.VisibilityDetectorLayer._updated[$isEmpty];
      visibility_detector_layer.VisibilityDetectorLayer._updated[$_set](this.key, this);
      let updateInterval = visibility_detector_controller.VisibilityDetectorController.instance.updateInterval;
      if (dart.equals(updateInterval, core.Duration.zero)) {
        if (dart.test(isFirstUpdate)) {
          dart.nullCheck(binding$.SchedulerBinding.instance).addPostFrameCallback(dart.fn(timeStamp => {
            if (timeStamp == null) dart.nullFailed(I[4], 175, 58, "timeStamp");
            visibility_detector_layer.VisibilityDetectorLayer._processCallbacks();
          }, T.DurationTovoid()));
        }
      } else if (visibility_detector_layer.VisibilityDetectorLayer._timer == null) {
        visibility_detector_layer.VisibilityDetectorLayer._timer = async.Timer.new(updateInterval, C[1] || CT.C1);
      } else {
        if (!dart.test(dart.nullCheck(visibility_detector_layer.VisibilityDetectorLayer._timer).isActive)) dart.assertFailed(null, I[4], 184, 14, "_timer!.isActive");
      }
    }
    static _handleTimer() {
      visibility_detector_layer.VisibilityDetectorLayer._timer = null;
      dart.nullCheck(binding$.SchedulerBinding.instance).scheduleTask(dart.void, C[2] || CT.C2, priority.Priority.touch);
    }
    static notifyNow() {
      let t0;
      t0 = visibility_detector_layer.VisibilityDetectorLayer._timer;
      t0 == null ? null : t0.cancel();
      visibility_detector_layer.VisibilityDetectorLayer._timer = null;
      visibility_detector_layer.VisibilityDetectorLayer._processCallbacks();
    }
    static forget(key) {
      let t0;
      if (key == null) dart.nullFailed(I[4], 211, 26, "key");
      visibility_detector_layer.VisibilityDetectorLayer._updated[$remove](key);
      visibility_detector_layer.VisibilityDetectorLayer._lastVisibility[$remove](key);
      visibility_detector_layer.VisibilityDetectorLayer._lastBounds[$remove](key);
      if (dart.test(visibility_detector_layer.VisibilityDetectorLayer._updated[$isEmpty])) {
        t0 = visibility_detector_layer.VisibilityDetectorLayer._timer;
        t0 == null ? null : t0.cancel();
        visibility_detector_layer.VisibilityDetectorLayer._timer = null;
      }
    }
    static _processCallbacks() {
      let t0;
      for (let layer of visibility_detector_layer.VisibilityDetectorLayer._updated[$values]) {
        if (!dart.test(layer.attached)) {
          layer[_fireCallback](new visibility_detector.VisibilityInfo.new({key: layer.key, size: (t0 = visibility_detector_layer.VisibilityDetectorLayer._lastVisibility[$_get](layer.key), t0 == null ? null : t0.size)}));
          continue;
        }
        let widgetBounds = layer[_computeWidgetBounds]();
        visibility_detector_layer.VisibilityDetectorLayer._lastBounds[$_set](layer.key, widgetBounds);
        let info = visibility_detector.VisibilityInfo.fromRects({key: layer.key, widgetBounds: widgetBounds, clipRect: layer[_computeClipRect]()});
        layer[_fireCallback](info);
      }
      visibility_detector_layer.VisibilityDetectorLayer._updated[$clear]();
    }
    [_fireCallback](info) {
      let t0;
      if (info == null) dart.nullFailed(I[4], 246, 37, "info");
      if (!(info != null)) dart.assertFailed(null, I[4], 247, 12, "info != null");
      let oldInfo = visibility_detector_layer.VisibilityDetectorLayer._lastVisibility[$_get](this.key);
      let visible = !dart.test(info.visibleBounds.isEmpty);
      if (oldInfo == null) {
        if (!visible) {
          return;
        }
      } else if (dart.test(info.matchesVisibility(oldInfo))) {
        return;
      }
      if (visible) {
        visibility_detector_layer.VisibilityDetectorLayer._lastVisibility[$_set](this.key, info);
      } else {
        visibility_detector_layer.VisibilityDetectorLayer._lastVisibility[$remove](this.key);
        visibility_detector_layer.VisibilityDetectorLayer._lastBounds[$remove](this.key);
      }
      t0 = info;
      this.onVisibilityChanged(t0);
    }
    addToScene(builder, layerOffset = C[3] || CT.C3) {
      if (builder == null) dart.nullFailed(I[4], 273, 35, "builder");
      if (layerOffset == null) dart.nullFailed(I[4], 273, 52, "layerOffset");
      this[_layerOffset] = layerOffset;
      this[_scheduleUpdate]();
      super.addToScene(builder, layerOffset);
    }
    attach(owner) {
      core.Object.as(owner);
      if (owner == null) dart.nullFailed(I[4], 281, 22, "owner");
      super.attach(owner);
      this[_scheduleUpdate]();
    }
    detach() {
      super.detach();
      this[_scheduleUpdate]();
    }
    debugFillProperties(properties) {
      let t0;
      if (properties == null) dart.nullFailed(I[4], 298, 56, "properties");
      super.debugFillProperties(properties);
      t0 = properties;
      (() => {
        t0.add(new (T.DiagnosticsPropertyOfKey()).new("key", this.key));
        t0.add(new (T.DiagnosticsPropertyOfRect()).new("widgetRect", this[_computeWidgetBounds]()));
        t0.add(new (T.DiagnosticsPropertyOfRect()).new("clipRect", this[_computeClipRect]()));
        return t0;
      })();
    }
  };
  (visibility_detector_layer.VisibilityDetectorLayer.new = function(opts) {
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[4], 64, 22, "key");
    let widgetOffset = opts && 'widgetOffset' in opts ? opts.widgetOffset : null;
    if (widgetOffset == null) dart.nullFailed(I[4], 65, 21, "widgetOffset");
    let widgetSize = opts && 'widgetSize' in opts ? opts.widgetSize : null;
    if (widgetSize == null) dart.nullFailed(I[4], 66, 21, "widgetSize");
    let paintOffset = opts && 'paintOffset' in opts ? opts.paintOffset : null;
    if (paintOffset == null) dart.nullFailed(I[4], 67, 21, "paintOffset");
    let onVisibilityChanged = opts && 'onVisibilityChanged' in opts ? opts.onVisibilityChanged : null;
    if (onVisibilityChanged == null) dart.nullFailed(I[4], 68, 21, "onVisibilityChanged");
    this[key$0] = key;
    this[widgetOffset$] = widgetOffset;
    this[widgetSize$] = widgetSize;
    this[paintOffset$] = paintOffset;
    this[onVisibilityChanged$] = onVisibilityChanged;
    if (!(key != null)) dart.assertFailed(null, I[4], 69, 16, "key != null");
    if (!(paintOffset != null)) dart.assertFailed(null, I[4], 70, 16, "paintOffset != null");
    if (!(widgetSize != null)) dart.assertFailed(null, I[4], 71, 16, "widgetSize != null");
    if (!(onVisibilityChanged != null)) dart.assertFailed(null, I[4], 72, 16, "onVisibilityChanged != null");
    this[_layerOffset] = ui.Offset.zero;
    visibility_detector_layer.VisibilityDetectorLayer.__proto__.new.call(this);
    ;
  }).prototype = visibility_detector_layer.VisibilityDetectorLayer.prototype;
  dart.addTypeTests(visibility_detector_layer.VisibilityDetectorLayer);
  dart.addTypeCaches(visibility_detector_layer.VisibilityDetectorLayer);
  dart.setMethodSignature(visibility_detector_layer.VisibilityDetectorLayer, () => ({
    __proto__: dart.getMethods(visibility_detector_layer.VisibilityDetectorLayer.__proto__),
    [_computeWidgetBounds]: dart.fnType(ui.Rect, []),
    [_computeClipRect]: dart.fnType(ui.Rect, []),
    [_scheduleUpdate]: dart.fnType(dart.void, []),
    [_fireCallback]: dart.fnType(dart.void, [visibility_detector.VisibilityInfo])
  }));
  dart.setLibraryUri(visibility_detector_layer.VisibilityDetectorLayer, I[5]);
  dart.setFieldSignature(visibility_detector_layer.VisibilityDetectorLayer, () => ({
    __proto__: dart.getFields(visibility_detector_layer.VisibilityDetectorLayer.__proto__),
    key: dart.finalFieldType(key.Key),
    widgetOffset: dart.finalFieldType(ui.Offset),
    widgetSize: dart.finalFieldType(ui.Size),
    [_layerOffset]: dart.fieldType(ui.Offset),
    paintOffset: dart.finalFieldType(ui.Offset),
    onVisibilityChanged: dart.finalFieldType(dart.fnType(dart.void, [visibility_detector.VisibilityInfo]))
  }));
  dart.defineLazy(visibility_detector_layer.VisibilityDetectorLayer, {
    /*visibility_detector_layer.VisibilityDetectorLayer._timer*/get _timer() {
      return null;
    },
    set _timer(_) {},
    /*visibility_detector_layer.VisibilityDetectorLayer._updated*/get _updated() {
      return new (T.LinkedMapOfKey$VisibilityDetectorLayer()).new();
    },
    /*visibility_detector_layer.VisibilityDetectorLayer._lastVisibility*/get _lastVisibility() {
      return new (T.LinkedMapOfKey$VisibilityInfo()).new();
    },
    /*visibility_detector_layer.VisibilityDetectorLayer._lastBounds*/get _lastBounds() {
      return new (T.LinkedMapOfKey$Rect()).new();
    }
  }, false);
  visibility_detector_layer._getLayerChain = function _getLayerChain(start) {
    if (start == null) dart.nullFailed(I[4], 19, 38, "start");
    let layerChain = T.JSArrayOfLayer().of([]);
    for (let layer = start; layer != null; layer = layer.parent) {
      layerChain[$add](layer);
    }
    return layerChain[$reversed];
  };
  visibility_detector_layer._accumulateTransforms = function _accumulateTransforms(layerChain) {
    if (layerChain == null) dart.nullFailed(I[4], 30, 47, "layerChain");
    if (!(layerChain != null)) dart.assertFailed(null, I[4], 31, 10, "layerChain != null");
    let transform = vector_math_64.Matrix4.identity();
    if (dart.test(layerChain[$isNotEmpty])) {
      let parent = layerChain[$first];
      for (let child of layerChain[$skip](1)) {
        layer$.ContainerLayer.as(parent).applyTransform(child, transform);
        parent = child;
      }
    }
    return transform;
  };
  visibility_detector_layer._localRectToGlobal = function _localRectToGlobal(layer, localRect) {
    if (layer == null) dart.nullFailed(I[4], 46, 31, "layer");
    if (localRect == null) dart.nullFailed(I[4], 46, 43, "localRect");
    let layerChain = visibility_detector_layer._getLayerChain(layer);
    if (!dart.test(layerChain[$isNotEmpty])) dart.assertFailed(null, I[4], 51, 10, "layerChain.isNotEmpty");
    if (!layer$.TransformLayer.is(layerChain[$first])) dart.assertFailed(null, I[4], 52, 10, "layerChain.first is TransformLayer");
    let transform = visibility_detector_layer._accumulateTransforms(layerChain[$skip](1));
    return matrix_utils.MatrixUtils.transformRect(transform, localRect);
  };
  var key$1 = dart.privateName(render_sliver_visibility_detector, "RenderSliverVisibilityDetector.key");
  var _onVisibilityChanged$ = dart.privateName(render_sliver_visibility_detector, "_onVisibilityChanged");
  var _name = dart.privateName(basic_types, "_name");
  render_sliver_visibility_detector.RenderSliverVisibilityDetector = class RenderSliverVisibilityDetector extends proxy_sliver.RenderProxySliver {
    get key() {
      return this[key$1];
    }
    set key(value) {
      super.key = value;
    }
    get onVisibilityChanged() {
      return this[_onVisibilityChanged$];
    }
    set onVisibilityChanged(value) {
      this[_onVisibilityChanged$] = value;
      this.markNeedsCompositingBitsUpdate();
      this.markNeedsPaint();
    }
    get alwaysNeedsCompositing() {
      return this.onVisibilityChanged != null;
    }
    paint(context, offset) {
      if (context == null) dart.nullFailed(I[6], 49, 30, "context");
      if (offset == null) dart.nullFailed(I[6], 49, 46, "offset");
      if (this.onVisibilityChanged == null) {
        visibility_detector_layer.VisibilityDetectorLayer.forget(this.key);
        super.paint(context, offset);
        return;
      }
      let widgetSize = null;
      let widgetOffset = null;
      switch (sliver.applyGrowthDirectionToAxisDirection(this.constraints.axisDirection, this.constraints.growthDirection)) {
        case C[4] || CT.C4:
        {
          widgetOffset = new ui.Offset.new(0.0, -dart.notNull(this.constraints.scrollOffset));
          widgetSize = new ui.Size.new(this.constraints.crossAxisExtent, dart.nullCheck(this.geometry).scrollExtent);
          break;
        }
        case C[5] || CT.C5:
        {
          let startOffset = dart.notNull(dart.nullCheck(this.geometry).paintExtent) + dart.notNull(this.constraints.scrollOffset) - dart.notNull(dart.nullCheck(this.geometry).scrollExtent);
          widgetOffset = new ui.Offset.new(0.0, math.min(core.double, startOffset, 0.0));
          widgetSize = new ui.Size.new(this.constraints.crossAxisExtent, dart.nullCheck(this.geometry).scrollExtent);
          break;
        }
        case C[6] || CT.C6:
        {
          widgetOffset = new ui.Offset.new(-dart.notNull(this.constraints.scrollOffset), 0.0);
          widgetSize = new ui.Size.new(dart.nullCheck(this.geometry).scrollExtent, this.constraints.crossAxisExtent);
          break;
        }
        case C[7] || CT.C7:
        {
          let startOffset = dart.notNull(dart.nullCheck(this.geometry).paintExtent) + dart.notNull(this.constraints.scrollOffset) - dart.notNull(dart.nullCheck(this.geometry).scrollExtent);
          widgetOffset = new ui.Offset.new(math.min(core.double, startOffset, 0.0), 0.0);
          widgetSize = new ui.Size.new(dart.nullCheck(this.geometry).scrollExtent, this.constraints.crossAxisExtent);
          break;
        }
        default:
        {
          dart.throw(new _internal.ReachabilityError.new("`null` encountered as case in a switch expression with a non-nullable enum type."));
        }
      }
      let layer = new visibility_detector_layer.VisibilityDetectorLayer.new({key: this.key, widgetOffset: widgetOffset, widgetSize: widgetSize, paintOffset: offset, onVisibilityChanged: dart.nullCheck(this.onVisibilityChanged)});
      context.pushLayer(layer, dart.bind(this, 'paint', super.paint), offset);
    }
  };
  (render_sliver_visibility_detector.RenderSliverVisibilityDetector.new = function(opts) {
    let sliver = opts && 'sliver' in opts ? opts.sliver : null;
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[6], 23, 19, "key");
    let onVisibilityChanged = opts && 'onVisibilityChanged' in opts ? opts.onVisibilityChanged : null;
    this[key$1] = key;
    this[_onVisibilityChanged$] = onVisibilityChanged;
    render_sliver_visibility_detector.RenderSliverVisibilityDetector.__proto__.new.call(this, sliver);
    ;
  }).prototype = render_sliver_visibility_detector.RenderSliverVisibilityDetector.prototype;
  dart.addTypeTests(render_sliver_visibility_detector.RenderSliverVisibilityDetector);
  dart.addTypeCaches(render_sliver_visibility_detector.RenderSliverVisibilityDetector);
  dart.setGetterSignature(render_sliver_visibility_detector.RenderSliverVisibilityDetector, () => ({
    __proto__: dart.getGetters(render_sliver_visibility_detector.RenderSliverVisibilityDetector.__proto__),
    onVisibilityChanged: dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo]))
  }));
  dart.setSetterSignature(render_sliver_visibility_detector.RenderSliverVisibilityDetector, () => ({
    __proto__: dart.getSetters(render_sliver_visibility_detector.RenderSliverVisibilityDetector.__proto__),
    onVisibilityChanged: dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo]))
  }));
  dart.setLibraryUri(render_sliver_visibility_detector.RenderSliverVisibilityDetector, I[7]);
  dart.setFieldSignature(render_sliver_visibility_detector.RenderSliverVisibilityDetector, () => ({
    __proto__: dart.getFields(render_sliver_visibility_detector.RenderSliverVisibilityDetector.__proto__),
    key: dart.finalFieldType(key.Key),
    [_onVisibilityChanged$]: dart.fieldType(dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo])))
  }));
  var onVisibilityChanged$0 = dart.privateName(visibility_detector, "VisibilityDetector.onVisibilityChanged");
  visibility_detector.VisibilityDetector = class VisibilityDetector extends framework.SingleChildRenderObjectWidget {
    get onVisibilityChanged() {
      return this[onVisibilityChanged$0];
    }
    set onVisibilityChanged(value) {
      super.onVisibilityChanged = value;
    }
    createRenderObject(context) {
      if (context == null) dart.nullFailed(I[8], 45, 60, "context");
      return new render_visibility_detector.RenderVisibilityDetector.new({key: dart.nullCheck(this.key), onVisibilityChanged: this.onVisibilityChanged});
    }
    updateRenderObject(context, renderObject) {
      if (context == null) dart.nullFailed(I[8], 55, 20, "context");
      render_visibility_detector.RenderVisibilityDetector.as(renderObject);
      if (renderObject == null) dart.nullFailed(I[8], 55, 54, "renderObject");
      if (!dart.equals(renderObject.key, this.key)) dart.assertFailed(null, I[8], 56, 12, "renderObject.key == key");
      renderObject.onVisibilityChanged = this.onVisibilityChanged;
    }
  };
  (visibility_detector.VisibilityDetector.new = function(opts) {
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[8], 33, 18, "key");
    let child = opts && 'child' in opts ? opts.child : null;
    if (child == null) dart.nullFailed(I[8], 34, 21, "child");
    let onVisibilityChanged = opts && 'onVisibilityChanged' in opts ? opts.onVisibilityChanged : null;
    let $36creationLocationd_0dea112b090073317d4 = opts && '$creationLocationd_0dea112b090073317d4' in opts ? opts.$creationLocationd_0dea112b090073317d4 : null;
    this[onVisibilityChanged$0] = onVisibilityChanged;
    if (!(key != null)) dart.assertFailed(null, I[8], 36, 17, "key != null");
    if (!(child != null)) dart.assertFailed(null, I[8], 37, 16, "child != null");
    visibility_detector.VisibilityDetector.__proto__.new.call(this, {key: key, child: child, $creationLocationd_0dea112b090073317d4: $36creationLocationd_0dea112b090073317d4});
    ;
  }).prototype = visibility_detector.VisibilityDetector.prototype;
  dart.addTypeTests(visibility_detector.VisibilityDetector);
  dart.addTypeCaches(visibility_detector.VisibilityDetector);
  dart.setMethodSignature(visibility_detector.VisibilityDetector, () => ({
    __proto__: dart.getMethods(visibility_detector.VisibilityDetector.__proto__),
    createRenderObject: dart.fnType(render_visibility_detector.RenderVisibilityDetector, [framework.BuildContext])
  }));
  dart.setLibraryUri(visibility_detector.VisibilityDetector, I[9]);
  dart.setFieldSignature(visibility_detector.VisibilityDetector, () => ({
    __proto__: dart.getFields(visibility_detector.VisibilityDetector.__proto__),
    onVisibilityChanged: dart.finalFieldType(dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo])))
  }));
  var onVisibilityChanged$1 = dart.privateName(visibility_detector, "SliverVisibilityDetector.onVisibilityChanged");
  visibility_detector.SliverVisibilityDetector = class SliverVisibilityDetector extends framework.SingleChildRenderObjectWidget {
    get onVisibilityChanged() {
      return this[onVisibilityChanged$1];
    }
    set onVisibilityChanged(value) {
      super.onVisibilityChanged = value;
    }
    createRenderObject(context) {
      if (context == null) dart.nullFailed(I[8], 82, 66, "context");
      return new render_sliver_visibility_detector.RenderSliverVisibilityDetector.new({key: dart.nullCheck(this.key), onVisibilityChanged: this.onVisibilityChanged});
    }
    updateRenderObject(context, renderObject) {
      if (context == null) dart.nullFailed(I[8], 92, 20, "context");
      render_sliver_visibility_detector.RenderSliverVisibilityDetector.as(renderObject);
      if (renderObject == null) dart.nullFailed(I[8], 92, 60, "renderObject");
      if (!dart.equals(renderObject.key, this.key)) dart.assertFailed(null, I[8], 93, 12, "renderObject.key == key");
      renderObject.onVisibilityChanged = this.onVisibilityChanged;
    }
  };
  (visibility_detector.SliverVisibilityDetector.new = function(opts) {
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[8], 70, 18, "key");
    let sliver = opts && 'sliver' in opts ? opts.sliver : null;
    if (sliver == null) dart.nullFailed(I[8], 71, 21, "sliver");
    let onVisibilityChanged = opts && 'onVisibilityChanged' in opts ? opts.onVisibilityChanged : null;
    let $36creationLocationd_0dea112b090073317d4 = opts && '$creationLocationd_0dea112b090073317d4' in opts ? opts.$creationLocationd_0dea112b090073317d4 : null;
    this[onVisibilityChanged$1] = onVisibilityChanged;
    if (!(key != null)) dart.assertFailed(null, I[8], 73, 17, "key != null");
    if (!(sliver != null)) dart.assertFailed(null, I[8], 74, 16, "sliver != null");
    visibility_detector.SliverVisibilityDetector.__proto__.new.call(this, {key: key, child: sliver, $creationLocationd_0dea112b090073317d4: $36creationLocationd_0dea112b090073317d4});
    ;
  }).prototype = visibility_detector.SliverVisibilityDetector.prototype;
  dart.addTypeTests(visibility_detector.SliverVisibilityDetector);
  dart.addTypeCaches(visibility_detector.SliverVisibilityDetector);
  dart.setMethodSignature(visibility_detector.SliverVisibilityDetector, () => ({
    __proto__: dart.getMethods(visibility_detector.SliverVisibilityDetector.__proto__),
    createRenderObject: dart.fnType(render_sliver_visibility_detector.RenderSliverVisibilityDetector, [framework.BuildContext])
  }));
  dart.setLibraryUri(visibility_detector.SliverVisibilityDetector, I[9]);
  dart.setFieldSignature(visibility_detector.SliverVisibilityDetector, () => ({
    __proto__: dart.getFields(visibility_detector.SliverVisibilityDetector.__proto__),
    onVisibilityChanged: dart.finalFieldType(dart.nullable(dart.fnType(dart.void, [visibility_detector.VisibilityInfo])))
  }));
  var key$2 = dart.privateName(visibility_detector, "VisibilityInfo.key");
  var size$ = dart.privateName(visibility_detector, "VisibilityInfo.size");
  var visibleBounds$ = dart.privateName(visibility_detector, "VisibilityInfo.visibleBounds");
  visibility_detector.VisibilityInfo = class VisibilityInfo extends core.Object {
    get key() {
      return this[key$2];
    }
    set key(value) {
      super.key = value;
    }
    get size() {
      return this[size$];
    }
    set size(value) {
      super.size = value;
    }
    get visibleBounds() {
      return this[visibleBounds$];
    }
    set visibleBounds(value) {
      super.visibleBounds = value;
    }
    static fromRects(opts) {
      let key = opts && 'key' in opts ? opts.key : null;
      if (key == null) dart.nullFailed(I[8], 122, 18, "key");
      let widgetBounds = opts && 'widgetBounds' in opts ? opts.widgetBounds : null;
      if (widgetBounds == null) dart.nullFailed(I[8], 123, 19, "widgetBounds");
      let clipRect = opts && 'clipRect' in opts ? opts.clipRect : null;
      if (clipRect == null) dart.nullFailed(I[8], 124, 19, "clipRect");
      if (!(widgetBounds != null)) dart.assertFailed(null, I[8], 126, 12, "widgetBounds != null");
      if (!(clipRect != null)) dart.assertFailed(null, I[8], 127, 12, "clipRect != null");
      let visibleBounds = dart.test(widgetBounds.overlaps(clipRect)) ? widgetBounds.intersect(clipRect).shift(widgetBounds.topLeft._negate()) : ui.Rect.zero;
      return new visibility_detector.VisibilityInfo.new({key: key, size: widgetBounds.size, visibleBounds: visibleBounds});
    }
    get visibleFraction() {
      let visibleArea = visibility_detector._area(this.visibleBounds.size);
      let maxVisibleArea = visibility_detector._area(this.size);
      if (dart.test(visibility_detector._floatNear(maxVisibleArea, 0.0))) {
        return 0.0;
      }
      let visibleFraction = dart.notNull(visibleArea) / dart.notNull(maxVisibleArea);
      if (dart.test(visibility_detector._floatNear(visibleFraction, 0.0))) {
        visibleFraction = 0.0;
      } else if (dart.test(visibility_detector._floatNear(visibleFraction, 1.0))) {
        visibleFraction = 1.0;
      }
      if (!(visibleFraction >= 0)) dart.assertFailed(null, I[8], 175, 12, "visibleFraction >= 0");
      if (!(visibleFraction <= 1)) dart.assertFailed(null, I[8], 176, 12, "visibleFraction <= 1");
      return visibleFraction;
    }
    matchesVisibility(info) {
      if (info == null) dart.nullFailed(I[8], 182, 41, "info");
      if (!(info != null)) dart.assertFailed(null, I[8], 187, 12, "info != null");
      return dart.equals(this.size, info.size) && dart.equals(this.visibleBounds, info.visibleBounds);
    }
    toString() {
      return "VisibilityInfo(size: " + dart.str(this.size) + " visibleBounds: " + dart.str(this.visibleBounds) + ")";
    }
  };
  (visibility_detector.VisibilityInfo.new = function(opts) {
    let t0, t0$;
    let key = opts && 'key' in opts ? opts.key : null;
    if (key == null) dart.nullFailed(I[8], 111, 39, "key");
    let size = opts && 'size' in opts ? opts.size : null;
    let visibleBounds = opts && 'visibleBounds' in opts ? opts.visibleBounds : null;
    this[key$2] = key;
    if (!(key != null)) dart.assertFailed(null, I[8], 112, 16, "key != null");
    this[size$] = (t0 = size, t0 == null ? ui.Size.zero : t0);
    this[visibleBounds$] = (t0$ = visibleBounds, t0$ == null ? ui.Rect.zero : t0$);
    ;
  }).prototype = visibility_detector.VisibilityInfo.prototype;
  dart.addTypeTests(visibility_detector.VisibilityInfo);
  dart.addTypeCaches(visibility_detector.VisibilityInfo);
  dart.setMethodSignature(visibility_detector.VisibilityInfo, () => ({
    __proto__: dart.getMethods(visibility_detector.VisibilityInfo.__proto__),
    matchesVisibility: dart.fnType(core.bool, [visibility_detector.VisibilityInfo])
  }));
  dart.setGetterSignature(visibility_detector.VisibilityInfo, () => ({
    __proto__: dart.getGetters(visibility_detector.VisibilityInfo.__proto__),
    visibleFraction: core.double
  }));
  dart.setLibraryUri(visibility_detector.VisibilityInfo, I[9]);
  dart.setFieldSignature(visibility_detector.VisibilityInfo, () => ({
    __proto__: dart.getFields(visibility_detector.VisibilityInfo.__proto__),
    key: dart.finalFieldType(key.Key),
    size: dart.finalFieldType(ui.Size),
    visibleBounds: dart.finalFieldType(ui.Rect)
  }));
  dart.defineExtensionMethods(visibility_detector.VisibilityInfo, ['toString']);
  visibility_detector._area = function _area(size) {
    if (size == null) dart.nullFailed(I[8], 202, 19, "size");
    if (!(size != null)) dart.assertFailed(null, I[8], 203, 10, "size != null");
    if (!(dart.notNull(size.width) >= 0)) dart.assertFailed(null, I[8], 204, 10, "size.width >= 0");
    if (!(dart.notNull(size.height) >= 0)) dart.assertFailed(null, I[8], 205, 10, "size.height >= 0");
    return dart.notNull(size.width) * dart.notNull(size.height);
  };
  visibility_detector._floatNear = function _floatNear(f1, f2) {
    if (f1 == null) dart.nullFailed(I[8], 210, 24, "f1");
    if (f2 == null) dart.nullFailed(I[8], 210, 35, "f2");
    let absDiff = (dart.notNull(f1) - dart.notNull(f2))[$abs]();
    return absDiff <= 0.01 || absDiff / math.max(core.num, f1[$abs](), f2[$abs]()) <= 0.01;
  };
  dart.defineLazy(visibility_detector, {
    /*visibility_detector._kDefaultTolerance*/get _kDefaultTolerance() {
      return 0.01;
    }
  }, false);
  dart.trackLibraries("packages/visibility_detector/src/render_visibility_detector.dart", {
    "package:visibility_detector/src/render_visibility_detector.dart": render_visibility_detector,
    "package:visibility_detector/src/visibility_detector_controller.dart": visibility_detector_controller,
    "package:visibility_detector/src/visibility_detector_layer.dart": visibility_detector_layer,
    "package:visibility_detector/src/render_sliver_visibility_detector.dart": render_sliver_visibility_detector,
    "package:visibility_detector/src/visibility_detector.dart": visibility_detector
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["render_visibility_detector.dart","visibility_detector_controller.dart","visibility_detector_layer.dart","render_sliver_visibility_detector.dart","visibility_detector.dart"],"names":[],"mappings":"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","file":"../../../../../../../packages/visibility_detector/src/render_visibility_detector.dart.lib.js"}');
  // Exports:
  return {
    src__render_visibility_detector: render_visibility_detector,
    src__visibility_detector_controller: visibility_detector_controller,
    src__visibility_detector_layer: visibility_detector_layer,
    src__render_sliver_visibility_detector: render_sliver_visibility_detector,
    src__visibility_detector: visibility_detector
  };
}));

//# sourceMappingURL=render_visibility_detector.dart.lib.js.map
